{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kcastillo\\\\Documents\\\\Prueba\\\\materialesapp\\\\src\\\\pages\\\\order\\\\Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport firebase from \"../../firebase\";\nimport DataTable from 'react-data-table-component';\nimport { Button, Tooltip, Modal, ModalHeader, ModalBody, ModalFooter, Container } from \"reactstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { paginationOptions, paginationPerPage, paginationRowsPerPageOptions, fixedHeaderScrollHeight } from '../../components/DataTableConfig'; //import Cookies from 'universal-cookie';\n\nimport LoadSpinner from '../../components/LoadSpinner';\nimport ToastMessage from '../../components/ToastMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderEdit = prop => {\n  _s();\n\n  //const baseUrl = `${configData.SERVER_URL}Parametrizacion/`;\n  //const cookies = new Cookies();\n  const history = useHistory();\n  const getId = prop.match.params.id;\n  /* HOOKS */\n\n  const [loading, setLoading] = useState(false); //const [modalEliminar, setModalEliminar] = useState(false);\n\n  const [mensajePanelCargar, setMensajePanelCargar] = useState(\"\");\n  const [modalMostrar, setModalMostrar] = useState(false);\n  const mensajeVacio = {\n    show: false,\n    icon: \"white\",\n    title: \"\",\n    message: \"\",\n    position: \"10%\"\n  };\n  const [mensaje, setMensaje] = useState(mensajeVacio);\n  const [tooltipOpen, setTooltipOpen] = useState(false);\n\n  const toggle = () => setTooltipOpen(!tooltipOpen);\n\n  const closeMensaje = () => {\n    setTimeout(() => {\n      setMensaje(mensajeVacio);\n    }, 3000);\n  };\n\n  const formEncabezadoOrden = {\n    Id: 0,\n    Numero_Orden: '',\n    Fecha_Orden: 0,\n    Nombre_Cliente: '',\n    Estado_Orden: 'registrada',\n    Total_Orden: 0,\n    Detalle: {}\n  };\n  const formDetalleOrden = {\n    Id: 0,\n    Detalle_Id: 0,\n    Codigo_Producto: '',\n    Nombre_Producto: 0,\n    Cantidad: '',\n    Precio: 0,\n    Monto: 0\n  };\n  const encabezadoProducto = {\n    Id: 0,\n    Codigo_Producto: '',\n    Cantidad_Existencia: 0,\n    Nombre_Producto: '',\n    Descripcion_Producto: '',\n    Precio: 0\n  }; // Hooks Principales  Encabezado y Detalle\n\n  const [ordenEncabezado, setOrdenEncabezado] = useState([formEncabezadoOrden]);\n  const [ordenDetalle, setOrdenDetalle] = useState([]); // Hook para controlar los eventos de registro de detalle en el grid\n\n  const [detalle, setDetalle] = useState([formDetalleOrden]); //Hook para presentar información del detalle a eliminar\n\n  const [detalleDelete, setDetalleDelete] = useState([formDetalleOrden]);\n  const [dataProducto, setDataProducto] = useState([encabezadoProducto]);\n  /* FIN HOOKS */\n\n  /* Eventos Handle o onChanged de controles */\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setOrdenEncabezado({ ...ordenEncabezado,\n      [name]: value\n    });\n  };\n\n  const handleInputDetalleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setDetalle({ ...detalle,\n      [name]: value\n    });\n  };\n\n  const listSelection = () => {\n    if (!detalle.Nombre_Producto || !detalle.Codigo_Producto) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina el nombre y código del producto que desea agregar\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (!detalle.Cantidad) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina la cantidad del producto\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (!detalle.Detalle_Id) {\n      if (ordenDetalle.length > 0) {\n        var maxIndex = Math.max(...ordenDetalle.map(item => item.Detalle_Id));\n        detalle.Detalle_Id = maxIndex + 1;\n      } else {\n        detalle.Detalle_Id = 1;\n      }\n    }\n\n    detalle.Monto = detalle.Precio * detalle.Cantidad;\n\n    if (ordenDetalle.filter(index => index.Id === detalle.Id).length > 0) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"El producto ya se encuentra en el detalle\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    setOrdenDetalle(ordenDetalle.includes(detalle) ? ordenDetalle.filter(index => index !== detalle) : [...ordenDetalle, detalle]);\n    setDetalle([formDetalleOrden]);\n  };\n  /* Fin de Eventos Handle o onChanged de controles */\n\n  /* Acciones Detalles(Grid, Botones, Eventos) */\n\n\n  const columns = [{\n    name: 'Detalle Id',\n    selector: 'Detalle_Id',\n    sortable: true,\n    width: '150px'\n  }, {\n    name: 'Codigo Producto',\n    selector: 'Codigo_Producto',\n    sortable: true,\n    left: true,\n    width: '150px'\n  }, {\n    name: 'Nombre Producto',\n    selector: 'Nombre_Producto',\n    sortable: true,\n    left: true,\n    width: '300px'\n  }, {\n    name: 'Cantidad',\n    selector: 'Cantidad',\n    sortable: true,\n    right: true,\n    width: '100px'\n  }, {\n    name: 'Precio Unitario',\n    selector: 'Precio',\n    sortable: true,\n    right: true,\n    width: '100px'\n  }, {\n    name: 'Monto Total',\n    selector: 'Monto',\n    sortable: true,\n    right: true,\n    width: '150px'\n  }, {\n    name: 'Eliminar',\n    button: true,\n    cell: row => /*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn btn-danger\",\n      onClick: () => eliminarDetalleOrden(row, \"Eliminar\"),\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faTrash\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 117\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 28\n    }, this)\n  }];\n\n  const abrirCerrarModalMostrar = () => {\n    setModalMostrar(!modalMostrar);\n  };\n  /*\r\n      const abrirCerrarModalEliminar = () => {\r\n          setModalEliminar(!modalEliminar);\r\n      };\r\n  \r\n      const eliminarDetalle = (detalle) => {\r\n          setDetalleDelete(detalle);\r\n          abrirCerrarModalEliminar();\r\n  \r\n      }\r\n  \r\n      const deleteDetalle = async () => {\r\n          setLoading(true);\r\n          setOrdenDetalle(ordenDetalle.filter(filtro => filtro.Asiento_Definicion_Detalle_Id !== detalleDelete.Asiento_Definicion_Detalle_Id));\r\n          setDetalleDelete([formDetalleOrden]);\r\n          setLoading(false);\r\n          abrirCerrarModalEliminar();\r\n      };*/\n\n\n  const eliminarDetalleOrden = row => {\n    if (window.confirm(`Estás seguro que deseas eliminar el detalle ${row && row.Detalle_Id}?`)) {\n      setOrdenDetalle(ordenDetalle.filter(filtro => filtro.Detalle_Id !== row.Detalle_Id));\n      /*  firebase.child(`orden/${row.Id}`).remove(\r\n            error => {\r\n                if (error) {\r\n                    setMensaje({ show: true, icon: \"danger\", title: \"Error\", message: \"Ocurrió un problema procesando la eliminación\", position: \"10%\" });\r\n                    closeMensaje();\r\n                }\r\n            });*/\n    }\n  };\n  /* Fin Acciones Detalles(Grid, Botones, Eventos) */\n\n  /* Acciones Encabezado(Botones, Eventos) */\n\n\n  const updateOrder = e => {\n    e.preventDefault();\n\n    if (!ordenEncabezado.Numero_Orden) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina el número de la orden\",\n        position: \"10%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (!ordenEncabezado.Nombre_Cliente) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina el nombre del cliente\",\n        position: \"10%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (ordenDetalle.length === 0) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina al menos un producto detalle\",\n        position: \"10%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    ordenEncabezado.Detalle = ordenDetalle;\n    var sumaOrden = 0;\n\n    for (var i = 0; i < ordenDetalle.length; i++) {\n      sumaOrden += ordenDetalle[i].Monto;\n    }\n\n    ordenEncabezado.Total_Orden = sumaOrden;\n    setMensajePanelCargar(\"Procesando Registro, Por Favor Espere\");\n    setLoading(true);\n\n    if (getId !== \"0\") {\n      firebase.child(`orden/${ordenEncabezado.Id}`).set(ordenEncabezado, error => {\n        if (error) {\n          setMensaje({\n            show: true,\n            icon: \"danger\",\n            title: \"Error\",\n            message: \"Ocurrió un problema procesando la actualización\",\n            position: \"10%\"\n          });\n          closeMensaje();\n        } else {\n          setLoading(false);\n          setMensaje({\n            show: true,\n            icon: \"success\",\n            title: \"Información\",\n            message: \"Orden Actualizada Correctamente\",\n            position: \"10%\"\n          });\n          closeMensaje();\n          setTimeout(() => history.push('/order'), 1100);\n        }\n      });\n    } else {\n      firebase.child(\"orden\").push(ordenEncabezado, error => {\n        if (error) {\n          setMensaje({\n            show: true,\n            icon: \"danger\",\n            title: \"Error\",\n            message: \"Ocurrió un problema procesando el registro\",\n            position: \"10%\"\n          });\n          closeMensaje();\n        } else {\n          setLoading(false);\n          setMensaje({\n            show: true,\n            icon: \"success\",\n            title: \"Información\",\n            message: \"Orden Registrada Correctamente\",\n            position: \"10%\"\n          });\n          closeMensaje();\n          setTimeout(() => history.push('/order'), 1100);\n        }\n      });\n    }\n  };\n\n  const agregarProducto = row => {\n    if (row.Cantidad_Existencia <= 0) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"El producto no posee existencia\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    setDetalle({ ...detalle,\n      'Id': row.Id,\n      'Codigo_Producto': row.Codigo_Producto,\n      'Nombre_Producto': row.Nombre_Producto,\n      'Precio': row.Precio\n    });\n    abrirCerrarModalMostrar();\n  };\n\n  const obtenerProductos = () => {\n    setLoading(true);\n    firebase.child(\"producto\").on(\"value\", producto => {\n      if (producto.val() !== null) {\n        var list = new Array();\n        producto.forEach(function (data) {\n          var item = {\n            Id: data.key,\n            Codigo_Producto: data.val().Codigo_Producto,\n            Cantidad_Existencia: data.val().Cantidad_Existencia,\n            Nombre_Producto: data.val().Nombre_Producto,\n            Descripcion_Producto: data.val().Descripcion_Producto,\n            Precio: data.val().Precio\n          };\n          list.push(item);\n        });\n        setDataProducto(list);\n      } else {\n        setDataProducto(encabezadoProducto);\n      }\n\n      setTimeout(() => {\n        setLoading(false);\n      }, 200);\n    });\n  };\n  /* FIN Acciones Encabezado(Botones, Eventos) */\n\n\n  useEffect(() => {\n    const obtenerInformacionOrden = () => {\n      setLoading(true);\n      firebase.child(\"orden\").orderByKey().equalTo(getId).on(\"value\", orden => {\n        if (orden.val() !== null) {\n          var listDetalle = new Array();\n          orden.forEach(function (data) {\n            var item = {\n              Id: data.key,\n              Numero_Orden: data.val().Numero_Orden,\n              Fecha_Orden: data.val().Fecha_Orden,\n              Nombre_Cliente: data.val().Nombre_Cliente,\n              Estado_Orden: data.val().Estado_Orden,\n              Total_Orden: data.val().Total_Orden\n            };\n            data.val().Detalle.forEach(function (det) {\n              var itemDetalle = {\n                Id: det.Id,\n                Detalle_Id: det.Detalle_Id,\n                Codigo_Producto: det.Codigo_Producto,\n                Nombre_Producto: det.Nombre_Producto,\n                Monto: det.Monto,\n                Cantidad: det.Cantidad,\n                Precio: det.Precio\n              };\n              listDetalle.push(itemDetalle);\n            });\n            setOrdenDetalle(listDetalle);\n            setOrdenEncabezado(item);\n          });\n        } else {\n          setOrdenEncabezado(formEncabezadoOrden);\n        }\n\n        setTimeout(() => {\n          setLoading(false);\n        }, 200);\n      });\n    };\n\n    obtenerInformacionOrden();\n    obtenerProductos();\n    /*if (cookies.get('id')) {\r\n        if (getId) {\r\n            if (getId !== \"0\") {\r\n                obtenerInformacionOrden();\r\n            }\r\n        }\r\n    }*/\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LoadSpinner, {\n      Mensaje: mensajePanelCargar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 24\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(ToastMessage, {\n      message: mensaje.message,\n      title: mensaje.title,\n      show: mensaje.show,\n      icon: mensaje.icon,\n      position: mensaje.position\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"breadcrumb\",\n          children: /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"breadcrumb-item text-primary\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/#\",\n                onClick: ev => {\n                  ev.preventDefault();\n                  history.push(`/order`);\n                },\n                style: {\n                  \"cursor\": \"pointer\"\n                },\n                children: \"Ordenes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"breadcrumb-item active\",\n              \"aria-current\": \"page\",\n              children: \"Registro o Actualizaci\\xF3n de Ordenes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-primary\",\n          children: \"Registro o Actualizaci\\xF3n de Ordenes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-1\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              className: \"btn-primary_override float-right\",\n              onClick: updateOrder,\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPlusCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 33\n              }, this), \" \", getId === \"0\" ? \"Guardar\" : \"Actualizar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"N\\xFAmero de la Orden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              autoComplete: \"off\",\n              name: \"Numero_Orden\",\n              value: ordenEncabezado.Numero_Orden || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"inputState\",\n              children: \"Estado Orden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"inputState\",\n              className: \"form-control\",\n              name: \"Estado_Orden\",\n              value: ordenEncabezado.Estado_Orden || \"\",\n              onChange: handleInputChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Registrada\",\n                children: \"Registrada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Aprobada\",\n                children: \"Aprobada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Entregada\",\n                children: \"Entregada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre del Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              autoComplete: \"off\",\n              name: \"Nombre_Cliente\",\n              value: ordenEncabezado.Nombre_Cliente || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"form-group fieldset-custom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"legend\", {\n              className: \"col-form-label col-sm pt-1 text-primary\",\n              children: \"Detalles de Productos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-1 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn-primary_override float-right\",\n                id: \"btnSearch\",\n                onClick: () => abrirCerrarModalMostrar(),\n                style: {\n                  \"marginTop\": \"28px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faSearch\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                placement: \"right\",\n                isOpen: tooltipOpen,\n                target: \"btnSearch\",\n                toggle: toggle,\n                children: \"Buscar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"codigo_Producto\",\n                children: \"C\\xF3digo Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"codigo_Producto\",\n                type: \"text\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Codigo_Producto\",\n                value: detalle.Codigo_Producto || \"\",\n                onChange: handleInputDetalleChange,\n                disabled: \"disabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"nombre_Producto\",\n                children: \"Nombre Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"nombre_Producto\",\n                type: \"text\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Nombre_Producto\",\n                value: detalle.Nombre_Producto || \"\",\n                onChange: handleInputDetalleChange,\n                disabled: \"disabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"precio\",\n                children: \"Precio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"precio\",\n                type: \"number\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Precio\",\n                value: detalle.Precio || \"\",\n                onChange: handleInputDetalleChange,\n                disabled: \"disabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"cantidad\",\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"cantidad\",\n                type: \"number\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Cantidad\",\n                value: detalle.Cantidad || \"\",\n                onChange: handleInputDetalleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group float-right mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn btn-success\",\n              id: \"btnAdd\",\n              onClick: () => listSelection(),\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPlusCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              placement: \"right\",\n              isOpen: tooltipOpen,\n              target: \"btnAdd\",\n              toggle: toggle,\n              children: \"Agregar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(DataTable, {\n              columns: columns,\n              data: ordenDetalle,\n              pagination: true,\n              paginationComponentOptions: paginationOptions,\n              fixedHeader: true,\n              fixedHeaderScrollHeight: fixedHeaderScrollHeight,\n              noHeader: true,\n              paginationPerPage: paginationPerPage,\n              paginationRowsPerPageOptions: paginationRowsPerPageOptions,\n              noDataComponent: paginationOptions.noDataComponent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: modalMostrar,\n            className: \"modal-dialog modal-lg\",\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              children: \"Productos Registrados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-responsive detalle-orden\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table table-striped\",\n                  \"aria-labelledby\": \"tabelLabel\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"C\\xF3digo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 505,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Nombre\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Descripci\\xF3n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 507,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Existencia\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Precio\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 509,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: dataProducto.map((data, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Codigo_Producto\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 515,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Nombre_Producto\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 516,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Descripcion_Producto\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 517,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Cantidad_Existencia\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Precio\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 519,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn-primary_override\",\n                          onClick: () => agregarProducto(data),\n                          children: [\" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                            icon: faPlusCircle\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 521,\n                            columnNumber: 137\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 521,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 520,\n                        columnNumber: 53\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 514,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => abrirCerrarModalMostrar(),\n                children: \"Cerrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OrderEdit, \"Qacz3kt1NE2puUQm15NiPEO1Ju0=\", false, function () {\n  return [useHistory];\n});\n\n_c = OrderEdit;\nexport default OrderEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderEdit\");","map":{"version":3,"sources":["C:/Users/kcastillo/Documents/Prueba/materialesapp/src/pages/order/Edit.js"],"names":["React","useState","useEffect","useHistory","firebase","DataTable","Button","Tooltip","Modal","ModalHeader","ModalBody","ModalFooter","Container","FontAwesomeIcon","faTrash","faPlusCircle","faSearch","paginationOptions","paginationPerPage","paginationRowsPerPageOptions","fixedHeaderScrollHeight","LoadSpinner","ToastMessage","OrderEdit","prop","history","getId","match","params","id","loading","setLoading","mensajePanelCargar","setMensajePanelCargar","modalMostrar","setModalMostrar","mensajeVacio","show","icon","title","message","position","mensaje","setMensaje","tooltipOpen","setTooltipOpen","toggle","closeMensaje","setTimeout","formEncabezadoOrden","Id","Numero_Orden","Fecha_Orden","Nombre_Cliente","Estado_Orden","Total_Orden","Detalle","formDetalleOrden","Detalle_Id","Codigo_Producto","Nombre_Producto","Cantidad","Precio","Monto","encabezadoProducto","Cantidad_Existencia","Descripcion_Producto","ordenEncabezado","setOrdenEncabezado","ordenDetalle","setOrdenDetalle","detalle","setDetalle","detalleDelete","setDetalleDelete","dataProducto","setDataProducto","handleInputChange","event","name","value","target","handleInputDetalleChange","listSelection","length","maxIndex","Math","max","map","item","filter","index","includes","columns","selector","sortable","width","left","right","button","cell","row","eliminarDetalleOrden","abrirCerrarModalMostrar","window","confirm","filtro","updateOrder","e","preventDefault","sumaOrden","i","child","set","error","push","agregarProducto","obtenerProductos","on","producto","val","list","Array","forEach","data","key","obtenerInformacionOrden","orderByKey","equalTo","orden","listDetalle","det","itemDetalle","ev","noDataComponent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from \"../../firebase\";\r\nimport DataTable from 'react-data-table-component';\r\nimport { Button, Tooltip, Modal, ModalHeader, ModalBody, ModalFooter, Container } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash, faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { paginationOptions, paginationPerPage, paginationRowsPerPageOptions, fixedHeaderScrollHeight }\r\n    from '../../components/DataTableConfig';\r\n//import Cookies from 'universal-cookie';\r\nimport LoadSpinner from '../../components/LoadSpinner';\r\nimport ToastMessage from '../../components/ToastMessage';\r\n\r\n\r\n\r\nconst OrderEdit = (prop) => {\r\n\r\n    //const baseUrl = `${configData.SERVER_URL}Parametrizacion/`;\r\n    //const cookies = new Cookies();\r\n    const history = useHistory();\r\n    const getId = prop.match.params.id;\r\n\r\n    /* HOOKS */\r\n    const [loading, setLoading] = useState(false);\r\n    //const [modalEliminar, setModalEliminar] = useState(false);\r\n    const [mensajePanelCargar, setMensajePanelCargar] = useState(\"\");\r\n    const [modalMostrar, setModalMostrar] = useState(false);\r\n    const mensajeVacio = { show: false, icon: \"white\", title: \"\", message: \"\", position: \"10%\" }\r\n    const [mensaje, setMensaje] = useState(mensajeVacio);\r\n    const [tooltipOpen, setTooltipOpen] = useState(false);\r\n    const toggle = () => setTooltipOpen(!tooltipOpen);\r\n    const closeMensaje = () => { setTimeout(() => { setMensaje(mensajeVacio) }, 3000); };\r\n\r\n    const formEncabezadoOrden = {\r\n        Id: 0,\r\n        Numero_Orden: '',\r\n        Fecha_Orden: 0,\r\n        Nombre_Cliente: '',\r\n        Estado_Orden: 'registrada',\r\n        Total_Orden: 0,\r\n        Detalle: {}\r\n    };\r\n\r\n    const formDetalleOrden = {\r\n        Id: 0,\r\n        Detalle_Id: 0,\r\n        Codigo_Producto: '',\r\n        Nombre_Producto: 0,\r\n        Cantidad: '',\r\n        Precio: 0,\r\n        Monto: 0\r\n    };\r\n\r\n    const encabezadoProducto = {\r\n        Id: 0,\r\n        Codigo_Producto: '',\r\n        Cantidad_Existencia: 0,\r\n        Nombre_Producto: '',\r\n        Descripcion_Producto: '',\r\n        Precio: 0\r\n    };\r\n\r\n    // Hooks Principales  Encabezado y Detalle\r\n    const [ordenEncabezado, setOrdenEncabezado] = useState([formEncabezadoOrden]);\r\n\r\n    const [ordenDetalle, setOrdenDetalle] = useState([]);\r\n\r\n\r\n    // Hook para controlar los eventos de registro de detalle en el grid\r\n    const [detalle, setDetalle] = useState([formDetalleOrden]);\r\n\r\n    //Hook para presentar información del detalle a eliminar\r\n    const [detalleDelete, setDetalleDelete] = useState([formDetalleOrden]);\r\n\r\n    const [dataProducto, setDataProducto] = useState([encabezadoProducto]);\r\n    /* FIN HOOKS */\r\n\r\n\r\n\r\n    /* Eventos Handle o onChanged de controles */\r\n\r\n    const handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        setOrdenEncabezado({ ...ordenEncabezado, [name]: value });\r\n    };\r\n\r\n    const handleInputDetalleChange = event => {\r\n        const { name, value } = event.target;\r\n        setDetalle({ ...detalle, [name]: value });\r\n    };\r\n\r\n    const listSelection = () => {\r\n\r\n        if (!detalle.Nombre_Producto || !detalle.Codigo_Producto) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina el nombre y código del producto que desea agregar\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        if (!detalle.Cantidad) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina la cantidad del producto\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        if (!detalle.Detalle_Id) {\r\n            if (ordenDetalle.length > 0) {\r\n                var maxIndex = Math.max(...ordenDetalle.map(item => item.Detalle_Id));\r\n                detalle.Detalle_Id = maxIndex + 1;\r\n            }\r\n            else {\r\n                detalle.Detalle_Id = 1;\r\n            }\r\n\r\n        }\r\n        detalle.Monto = detalle.Precio * detalle.Cantidad;\r\n\r\n        if (ordenDetalle.filter(index => index.Id === detalle.Id).length > 0) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"El producto ya se encuentra en el detalle\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        setOrdenDetalle(\r\n            ordenDetalle.includes(detalle)\r\n                ? ordenDetalle.filter(index => index !== detalle)\r\n                : [...ordenDetalle, detalle]\r\n        );\r\n        setDetalle([formDetalleOrden]);\r\n    }\r\n\r\n    /* Fin de Eventos Handle o onChanged de controles */\r\n\r\n\r\n\r\n    /* Acciones Detalles(Grid, Botones, Eventos) */\r\n\r\n    const columns = [\r\n        {\r\n            name: 'Detalle Id',\r\n            selector: 'Detalle_Id',\r\n            sortable: true,\r\n            width: '150px'\r\n        },\r\n        {\r\n            name: 'Codigo Producto',\r\n            selector: 'Codigo_Producto',\r\n            sortable: true,\r\n            left: true,\r\n            width: '150px'\r\n        },\r\n        {\r\n            name: 'Nombre Producto',\r\n            selector: 'Nombre_Producto',\r\n            sortable: true,\r\n            left: true,\r\n            width: '300px'\r\n        },\r\n        {\r\n            name: 'Cantidad',\r\n            selector: 'Cantidad',\r\n            sortable: true,\r\n            right: true,\r\n            width: '100px'\r\n        },\r\n        {\r\n            name: 'Precio Unitario',\r\n            selector: 'Precio',\r\n            sortable: true,\r\n            right: true,\r\n            width: '100px'\r\n        },\r\n        {\r\n            name: 'Monto Total',\r\n            selector: 'Monto',\r\n            sortable: true,\r\n            right: true,\r\n            width: '150px'\r\n        },\r\n        {\r\n            name: 'Eliminar',\r\n            button: true,\r\n            cell: (row) => <Button className=\"btn btn-danger\" onClick={() => eliminarDetalleOrden(row, \"Eliminar\")}><FontAwesomeIcon icon={faTrash} /></Button>\r\n        }\r\n    ];\r\n\r\n\r\n    const abrirCerrarModalMostrar = () => { setModalMostrar(!modalMostrar); };\r\n\r\n\r\n    /*\r\n        const abrirCerrarModalEliminar = () => {\r\n            setModalEliminar(!modalEliminar);\r\n        };\r\n    \r\n        const eliminarDetalle = (detalle) => {\r\n            setDetalleDelete(detalle);\r\n            abrirCerrarModalEliminar();\r\n    \r\n        }\r\n    \r\n        const deleteDetalle = async () => {\r\n            setLoading(true);\r\n            setOrdenDetalle(ordenDetalle.filter(filtro => filtro.Asiento_Definicion_Detalle_Id !== detalleDelete.Asiento_Definicion_Detalle_Id));\r\n            setDetalleDelete([formDetalleOrden]);\r\n            setLoading(false);\r\n            abrirCerrarModalEliminar();\r\n        };*/\r\n\r\n    const eliminarDetalleOrden = (row) => {\r\n        if (window.confirm(`Estás seguro que deseas eliminar el detalle ${row && row.Detalle_Id}?`)) {\r\n            setOrdenDetalle(ordenDetalle.filter(filtro => filtro.Detalle_Id !== row.Detalle_Id));\r\n            /*  firebase.child(`orden/${row.Id}`).remove(\r\n                  error => {\r\n                      if (error) {\r\n                          setMensaje({ show: true, icon: \"danger\", title: \"Error\", message: \"Ocurrió un problema procesando la eliminación\", position: \"10%\" });\r\n                          closeMensaje();\r\n                      }\r\n                  });*/\r\n        }\r\n\r\n    }\r\n    /* Fin Acciones Detalles(Grid, Botones, Eventos) */\r\n\r\n\r\n\r\n    /* Acciones Encabezado(Botones, Eventos) */\r\n\r\n    const updateOrder = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!ordenEncabezado.Numero_Orden) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina el número de la orden\", position: \"10%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n        if (!ordenEncabezado.Nombre_Cliente) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina el nombre del cliente\", position: \"10%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        if (ordenDetalle.length === 0) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina al menos un producto detalle\", position: \"10%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        ordenEncabezado.Detalle = ordenDetalle;\r\n        var sumaOrden = 0;\r\n        for (var i = 0; i < ordenDetalle.length; i++) {\r\n            sumaOrden += ordenDetalle[i].Monto;\r\n        }\r\n        ordenEncabezado.Total_Orden = sumaOrden;\r\n\r\n        setMensajePanelCargar(\"Procesando Registro, Por Favor Espere\");\r\n        setLoading(true);\r\n\r\n\r\n        if (getId !== \"0\") {\r\n            firebase.child(`orden/${ordenEncabezado.Id}`).set(\r\n                ordenEncabezado,\r\n                error => {\r\n                    if (error) {\r\n                        setMensaje({ show: true, icon: \"danger\", title: \"Error\", message: \"Ocurrió un problema procesando la actualización\", position: \"10%\" });\r\n                        closeMensaje();\r\n                    }\r\n                    else {\r\n                        setLoading(false);\r\n                        setMensaje({ show: true, icon: \"success\", title: \"Información\", message: \"Orden Actualizada Correctamente\", position: \"10%\" });\r\n                        closeMensaje();\r\n                        setTimeout(() => history.push('/order'), 1100);\r\n                    }\r\n                });\r\n        }\r\n        else {\r\n            firebase.child(\"orden\").push(ordenEncabezado,\r\n                error => {\r\n                    if (error) {\r\n                        setMensaje({ show: true, icon: \"danger\", title: \"Error\", message: \"Ocurrió un problema procesando el registro\", position: \"10%\" });\r\n                        closeMensaje();\r\n                    }\r\n                    else {\r\n                        setLoading(false);\r\n                        setMensaje({ show: true, icon: \"success\", title: \"Información\", message: \"Orden Registrada Correctamente\", position: \"10%\" });\r\n                        closeMensaje();\r\n                        setTimeout(() => history.push('/order'), 1100);\r\n                    }\r\n                });\r\n        }\r\n\r\n    };\r\n\r\n    const agregarProducto = (row) => {\r\n\r\n        if (row.Cantidad_Existencia <= 0) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"El producto no posee existencia\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        setDetalle({\r\n            ...detalle,\r\n            'Id': row.Id,\r\n            'Codigo_Producto': row.Codigo_Producto,\r\n            'Nombre_Producto': row.Nombre_Producto,\r\n            'Precio': row.Precio\r\n        });\r\n        abrirCerrarModalMostrar();\r\n    }\r\n\r\n    const obtenerProductos = () => {\r\n        setLoading(true);\r\n        firebase.child(\"producto\").on(\"value\", (producto) => {\r\n            if (producto.val() !== null) {\r\n                var list = new Array();\r\n\r\n                producto.forEach(function (data) {\r\n                    var item = {\r\n                        Id: data.key,\r\n                        Codigo_Producto: data.val().Codigo_Producto,\r\n                        Cantidad_Existencia: data.val().Cantidad_Existencia,\r\n                        Nombre_Producto: data.val().Nombre_Producto,\r\n                        Descripcion_Producto: data.val().Descripcion_Producto,\r\n                        Precio: data.val().Precio\r\n                    }\r\n                    list.push(item);\r\n                });\r\n\r\n                setDataProducto(list);\r\n            } else {\r\n                setDataProducto(encabezadoProducto);\r\n            }\r\n            setTimeout(() => { setLoading(false) }, 200);\r\n\r\n        });\r\n    };\r\n    /* FIN Acciones Encabezado(Botones, Eventos) */\r\n\r\n    useEffect(() => {\r\n\r\n        const obtenerInformacionOrden = () => {\r\n            setLoading(true);\r\n            firebase.child(\"orden\").orderByKey().equalTo(getId).on(\"value\", (orden) => {\r\n                if (orden.val() !== null) {\r\n                    var listDetalle = new Array();\r\n                    orden.forEach(function (data) {\r\n                        var item = {\r\n                            Id: data.key,\r\n                            Numero_Orden: data.val().Numero_Orden,\r\n                            Fecha_Orden: data.val().Fecha_Orden,\r\n                            Nombre_Cliente: data.val().Nombre_Cliente,\r\n                            Estado_Orden: data.val().Estado_Orden,\r\n                            Total_Orden: data.val().Total_Orden,\r\n                        }\r\n\r\n                        data.val().Detalle.forEach(function (det) {\r\n                            var itemDetalle = {\r\n                                Id: det.Id,\r\n                                Detalle_Id: det.Detalle_Id,\r\n                                Codigo_Producto: det.Codigo_Producto,\r\n                                Nombre_Producto: det.Nombre_Producto,\r\n                                Monto: det.Monto,\r\n                                Cantidad: det.Cantidad,\r\n                                Precio: det.Precio\r\n                            }\r\n                            listDetalle.push(itemDetalle);\r\n                        });\r\n                        setOrdenDetalle(listDetalle);\r\n                        setOrdenEncabezado(item);\r\n                    });\r\n                } else {\r\n                    setOrdenEncabezado(formEncabezadoOrden);\r\n                }\r\n                setTimeout(() => { setLoading(false) }, 200);\r\n            });\r\n        };\r\n\r\n        obtenerInformacionOrden();\r\n        obtenerProductos();\r\n        /*if (cookies.get('id')) {\r\n            if (getId) {\r\n                if (getId !== \"0\") {\r\n                    obtenerInformacionOrden();\r\n                }\r\n            }\r\n        }*/\r\n    }, []);// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <LoadSpinner Mensaje={mensajePanelCargar} /> : \"\"}\r\n            <ToastMessage message={mensaje.message} title={mensaje.title} show={mensaje.show} icon={mensaje.icon} position={mensaje.position} />\r\n            <Container>\r\n                <div className=\"\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb\">\r\n                            <li className=\"breadcrumb-item text-primary\"><a href=\"/#\" onClick={ev => { ev.preventDefault(); history.push(`/order`) }} style={{ \"cursor\": \"pointer\" }}>Ordenes</a></li>\r\n                            <li className=\"breadcrumb-item active\" aria-current=\"page\">Registro o Actualización de Ordenes</li>\r\n                        </ol>\r\n                    </nav>\r\n                    <h4 className=\"text-primary\">Registro o Actualización de Ordenes</h4>\r\n                </div>\r\n                <form>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm mb-1\">\r\n                            <Button variant=\"primary\" type=\"submit\" className=\"btn-primary_override float-right\" onClick={updateOrder}>\r\n                                <FontAwesomeIcon icon={faPlusCircle} /> {getId === \"0\" ? \"Guardar\" : \"Actualizar\"}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm mb-1\">\r\n                            <label>Número de la Orden</label>\r\n                            <input type=\"text\" className=\"form-control\" autoComplete=\"off\" name=\"Numero_Orden\" value={ordenEncabezado.Numero_Orden || \"\"} onChange={handleInputChange} />\r\n                        </div>\r\n                        <div className=\"col-sm mb-1\">\r\n                            <label htmlFor=\"inputState\">Estado Orden</label>\r\n                            <select id=\"inputState\" className=\"form-control\" name=\"Estado_Orden\" value={ordenEncabezado.Estado_Orden || \"\"} onChange={handleInputChange}>\r\n                                <option value=\"Registrada\">Registrada</option>\r\n                                <option value=\"Aprobada\">Aprobada</option>\r\n                                <option value=\"Entregada\">Entregada</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm mb-3\">\r\n                            <label>Nombre del Cliente</label>\r\n                            <input type=\"text\" className=\"form-control\" autoComplete=\"off\" name=\"Nombre_Cliente\" value={ordenEncabezado.Nombre_Cliente || \"\"} onChange={handleInputChange} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <fieldset className=\"form-group fieldset-custom\">\r\n                        <div className=\"row\">\r\n                            <legend className=\"col-form-label col-sm pt-1 text-primary\">Detalles de Productos</legend>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm-1 mb-1\">\r\n                                <Button className=\"btn-primary_override float-right\" id={\"btnSearch\"} onClick={() => abrirCerrarModalMostrar()} style={{ \"marginTop\": \"28px\" }}>\r\n                                    <FontAwesomeIcon icon={faSearch} />\r\n                                </Button>\r\n                                <Tooltip\r\n                                    placement={\"right\"}\r\n                                    isOpen={tooltipOpen}\r\n                                    target={\"btnSearch\"}\r\n                                    toggle={toggle}>\r\n                                    Buscar\r\n                            </Tooltip>\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"codigo_Producto\">Código Producto</label>\r\n                                <input id=\"codigo_Producto\" type=\"text\" autoComplete=\"off\" className=\"form-control\" name=\"Codigo_Producto\" value={detalle.Codigo_Producto || \"\"} onChange={handleInputDetalleChange} disabled='disabled' />\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"nombre_Producto\">Nombre Producto</label>\r\n                                <input id=\"nombre_Producto\" type=\"text\" autoComplete=\"off\" className=\"form-control\" name=\"Nombre_Producto\" value={detalle.Nombre_Producto || \"\"} onChange={handleInputDetalleChange} disabled='disabled' />\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"precio\">Precio</label>\r\n                                <input id=\"precio\" type=\"number\" autoComplete=\"off\" className=\"form-control\" name=\"Precio\" value={detalle.Precio || \"\"} onChange={handleInputDetalleChange} disabled='disabled' />\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"cantidad\">Cantidad</label>\r\n                                <input id=\"cantidad\" type=\"number\" autoComplete=\"off\" className=\"form-control\" name=\"Cantidad\" value={detalle.Cantidad || \"\"} onChange={handleInputDetalleChange} />\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"form-group float-right mt-2\">\r\n                            <Button className=\"btn btn-success\" id={\"btnAdd\"} onClick={() => listSelection()}>\r\n                                <FontAwesomeIcon icon={faPlusCircle} />\r\n                            </Button>\r\n                            <Tooltip\r\n                                placement={\"right\"}\r\n                                isOpen={tooltipOpen}\r\n                                target={\"btnAdd\"}\r\n                                toggle={toggle}>\r\n                                Agregar\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"table-responsive\">\r\n                            <DataTable\r\n                                columns={columns}\r\n                                data={ordenDetalle}\r\n                                pagination\r\n                                paginationComponentOptions={paginationOptions}\r\n                                fixedHeader\r\n                                fixedHeaderScrollHeight={fixedHeaderScrollHeight}\r\n                                noHeader={true}\r\n                                paginationPerPage={paginationPerPage}\r\n                                paginationRowsPerPageOptions={paginationRowsPerPageOptions}\r\n                                noDataComponent={paginationOptions.noDataComponent}\r\n                            />\r\n                        </div>\r\n                        <Modal isOpen={modalMostrar} className=\"modal-dialog modal-lg\" >\r\n                            <ModalHeader>\r\n                                Productos Registrados\r\n                            </ModalHeader>\r\n                            <ModalBody>\r\n                                <div className=\"table-responsive detalle-orden\">\r\n                                    <table className='table table-striped' aria-labelledby=\"tabelLabel\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Código</th>\r\n                                                <th>Nombre</th>\r\n                                                <th>Descripción</th>\r\n                                                <th>Existencia</th>\r\n                                                <th>Precio</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {dataProducto.map((data, i) =>\r\n                                                <tr key={i}>\r\n                                                    <td>{data.Codigo_Producto}</td>\r\n                                                    <td>{data.Nombre_Producto}</td>\r\n                                                    <td>{data.Descripcion_Producto}</td>\r\n                                                    <td>{data.Cantidad_Existencia}</td>\r\n                                                    <td>{data.Precio}</td>\r\n                                                    <td>\r\n                                                        <button className=\"btn-primary_override\" onClick={() => agregarProducto(data)}> <FontAwesomeIcon icon={faPlusCircle} /></button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <button className=\"btn btn-secondary\" onClick={() => abrirCerrarModalMostrar()}>Cerrar</button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                    </fieldset>\r\n                </form>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderEdit;"]},"metadata":{},"sourceType":"module"}