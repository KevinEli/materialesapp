{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kcastillo\\\\Documents\\\\Prueba\\\\materialesapp\\\\src\\\\pages\\\\order\\\\Edit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { fireDefault as firebase } from \"../../firebase\";\nimport DataTable from 'react-data-table-component';\nimport { Button, Tooltip, Modal, ModalHeader, ModalBody, ModalFooter, Container } from \"reactstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { paginationOptions, paginationPerPage, paginationRowsPerPageOptions, fixedHeaderScrollHeight } from '../../components/DataTableConfig';\nimport LoadSpinner from '../../components/LoadSpinner';\nimport ToastMessage from '../../components/ToastMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OrderEdit = prop => {\n  _s();\n\n  const history = useHistory();\n  const getId = prop.match.params.id;\n  /* HOOKS */\n\n  const [loading, setLoading] = useState(false);\n  const [mensajePanelCargar, setMensajePanelCargar] = useState(\"\");\n  const [modalMostrar, setModalMostrar] = useState(false);\n  const [modalMostrarCliente, setModalMostrarCliente] = useState(false);\n  const mensajeVacio = {\n    show: false,\n    icon: \"white\",\n    title: \"\",\n    message: \"\",\n    position: \"10%\"\n  };\n  const [mensaje, setMensaje] = useState(mensajeVacio);\n  const [tooltipOpen, setTooltipOpen] = useState(false);\n\n  const toggle = () => setTooltipOpen(!tooltipOpen);\n\n  const closeMensaje = () => {\n    setTimeout(() => {\n      setMensaje(mensajeVacio);\n    }, 3000);\n  };\n\n  const formEncabezadoOrden = {\n    Id: 0,\n    Numero_Orden: '',\n    Fecha_Orden: '',\n    Cliente_Id: 0,\n    Nombre_Cliente: '',\n    Estado_Orden: 'registrada',\n    Total_Orden: 0,\n    Detalle: {}\n  };\n  const formDetalleOrden = {\n    Id: 0,\n    Detalle_Id: 0,\n    Codigo_Producto: '',\n    Nombre_Producto: 0,\n    Cantidad: '',\n    Precio: 0,\n    Monto: 0\n  };\n  const encabezadoProducto = {\n    Id: 0,\n    Codigo_Producto: '',\n    Cantidad_Existencia: 0,\n    Nombre_Producto: '',\n    Descripcion_Producto: '',\n    Precio: 0\n  }; // Hooks Principales  Encabezado y Detalle\n\n  const [ordenEncabezado, setOrdenEncabezado] = useState([formEncabezadoOrden]);\n  const [ordenDetalle, setOrdenDetalle] = useState([]); // Hook para controlar los eventos de registro de detalle en el grid\n\n  const [detalle, setDetalle] = useState([formDetalleOrden]);\n  const [dataProducto, setDataProducto] = useState([encabezadoProducto]);\n  /* FIN HOOKS */\n\n  /* Eventos Handle o onChanged de controles */\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setOrdenEncabezado({ ...ordenEncabezado,\n      [name]: value\n    });\n  };\n\n  const handleInputDetalleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setDetalle({ ...detalle,\n      [name]: value\n    });\n  };\n\n  const listSelection = () => {\n    if (!detalle.Nombre_Producto || !detalle.Codigo_Producto) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina el nombre y código del producto que desea agregar\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (!detalle.Cantidad) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina la cantidad del producto\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (!detalle.Detalle_Id) {\n      if (ordenDetalle.length > 0) {\n        var maxIndex = Math.max(...ordenDetalle.map(item => item.Detalle_Id));\n        detalle.Detalle_Id = maxIndex + 1;\n      } else {\n        detalle.Detalle_Id = 1;\n      }\n    }\n\n    detalle.Monto = detalle.Precio * detalle.Cantidad;\n\n    if (ordenDetalle.filter(index => index.Id === detalle.Id).length > 0) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"El producto ya se encuentra en el detalle\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    setOrdenDetalle(ordenDetalle.includes(detalle) ? ordenDetalle.filter(index => index !== detalle) : [...ordenDetalle, detalle]);\n    setDetalle([formDetalleOrden]);\n  };\n  /* Fin de Eventos Handle o onChanged de controles */\n\n  /* Acciones Detalles(Grid, Botones, Eventos) */\n\n\n  const columns = [{\n    name: 'Detalle Id',\n    selector: 'Detalle_Id',\n    sortable: true,\n    width: '150px'\n  }, {\n    name: 'Codigo Producto',\n    selector: 'Codigo_Producto',\n    sortable: true,\n    left: true,\n    width: '150px'\n  }, {\n    name: 'Nombre Producto',\n    selector: 'Nombre_Producto',\n    sortable: true,\n    left: true,\n    width: '300px'\n  }, {\n    name: 'Cantidad',\n    selector: 'Cantidad',\n    sortable: true,\n    right: true,\n    width: '100px'\n  }, {\n    name: 'Precio Unitario',\n    selector: 'Precio',\n    sortable: true,\n    right: true,\n    width: '100px'\n  }, {\n    name: 'Monto Total',\n    selector: 'Monto',\n    sortable: true,\n    right: true,\n    width: '150px'\n  }, {\n    name: 'Eliminar',\n    button: true,\n    cell: row => /*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn btn-danger\",\n      onClick: () => eliminarDetalleOrden(row, \"Eliminar\"),\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faTrash\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 117\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 28\n    }, this)\n  }];\n\n  const abrirCerrarModalMostrar = () => {\n    setModalMostrar(!modalMostrar);\n  };\n\n  const abrirCerrarModalMostrarCliente = () => {\n    setModalMostrarCliente(!modalMostrarCliente);\n  };\n\n  const eliminarDetalleOrden = row => {\n    if (window.confirm(`Estás seguro que deseas eliminar el detalle ${row && row.Detalle_Id}?`)) {\n      setOrdenDetalle(ordenDetalle.filter(filtro => filtro.Detalle_Id !== row.Detalle_Id));\n    }\n  };\n  /* Fin Acciones Detalles(Grid, Botones, Eventos) */\n\n  /* Acciones Encabezado(Botones, Eventos) */\n\n\n  const updateOrder = e => {\n    e.preventDefault();\n\n    if (!ordenEncabezado.Numero_Orden) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina el número de la orden\",\n        position: \"10%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (!ordenEncabezado.Nombre_Cliente) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina el nombre del cliente\",\n        position: \"10%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    if (ordenDetalle.length === 0) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"Defina al menos un producto detalle\",\n        position: \"10%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    ordenEncabezado.Detalle = ordenDetalle;\n    var sumaOrden = 0;\n\n    for (var i = 0; i < ordenDetalle.length; i++) {\n      sumaOrden += ordenDetalle[i].Monto;\n    }\n\n    ordenEncabezado.Total_Orden = sumaOrden;\n    var dateorden = new Date();\n    ordenEncabezado.Fecha_Orden = padLeft(dateorden.getMonth()) + \"/\" + padLeft(dateorden.getDay()) + \"/\" + padLeft(dateorden.getFullYear());\n    setMensajePanelCargar(\"Procesando Registro, Por Favor Espere\");\n    setLoading(true);\n\n    if (getId !== \"0\") {\n      firebase.child(`orden/${ordenEncabezado.Id}`).set(ordenEncabezado, error => {\n        if (error) {\n          setMensaje({\n            show: true,\n            icon: \"danger\",\n            title: \"Error\",\n            message: \"Ocurrió un problema procesando la actualización\",\n            position: \"10%\"\n          });\n          closeMensaje();\n        } else {\n          setLoading(false);\n          setMensaje({\n            show: true,\n            icon: \"success\",\n            title: \"Información\",\n            message: \"Orden Actualizada Correctamente\",\n            position: \"10%\"\n          });\n          closeMensaje();\n          setTimeout(() => history.push('/order'), 1100);\n        }\n      });\n    } else {\n      firebase.child(\"orden\").push(ordenEncabezado, error => {\n        if (error) {\n          setMensaje({\n            show: true,\n            icon: \"danger\",\n            title: \"Error\",\n            message: \"Ocurrió un problema procesando el registro\",\n            position: \"10%\"\n          });\n          closeMensaje();\n        } else {\n          setLoading(false);\n          setMensaje({\n            show: true,\n            icon: \"success\",\n            title: \"Información\",\n            message: \"Orden Registrada Correctamente\",\n            position: \"10%\"\n          });\n          closeMensaje();\n          setTimeout(() => history.push('/order'), 1100);\n        }\n      });\n    }\n  };\n\n  const padLeft = n => {\n    return (\"00\" + n).slice(-2);\n  };\n\n  const agregarProducto = row => {\n    if (row.Cantidad_Existencia <= 0) {\n      setMensaje({\n        show: true,\n        icon: \"warning\",\n        title: \"Advertencia\",\n        message: \"El producto no posee existencia\",\n        position: \"50%\"\n      });\n      closeMensaje();\n      return;\n    }\n\n    setDetalle({ ...detalle,\n      'Id': row.Id,\n      'Codigo_Producto': row.Codigo_Producto,\n      'Nombre_Producto': row.Nombre_Producto,\n      'Precio': row.Precio\n    });\n    abrirCerrarModalMostrar();\n  };\n\n  const agregarCliente = row => {\n    setOrdenEncabezado({ ...ordenEncabezado,\n      'Cliente_Id': row.Id,\n      'Nombre_Cliente': row.Nombre_Cliente\n    });\n    abrirCerrarModalMostrarCliente();\n  };\n\n  const obtenerProductos = () => {\n    setLoading(true);\n    firebase.child(\"producto\").on(\"value\", producto => {\n      if (producto.val() !== null) {\n        var list = [];\n        producto.forEach(function (data) {\n          var item = {\n            Id: data.key,\n            Codigo_Producto: data.val().Codigo_Producto,\n            Cantidad_Existencia: data.val().Cantidad_Existencia,\n            Nombre_Producto: data.val().Nombre_Producto,\n            Descripcion_Producto: data.val().Descripcion_Producto,\n            Precio: data.val().Precio\n          };\n          list.push(item);\n        });\n        setDataProducto(list);\n      } else {\n        setDataProducto(encabezadoProducto);\n      }\n\n      setTimeout(() => {\n        setLoading(false);\n      }, 200);\n    });\n  };\n  /* FIN Acciones Encabezado(Botones, Eventos) */\n\n\n  useEffect(() => {\n    const obtenerInformacionOrden = () => {\n      setLoading(true);\n      firebase.child(\"orden\").orderByKey().equalTo(getId).on(\"value\", orden => {\n        if (orden.val() !== null) {\n          var listDetalle = [];\n          orden.forEach(function (data) {\n            var item = {\n              Id: data.key,\n              Numero_Orden: data.val().Numero_Orden,\n              Fecha_Orden: data.val().Fecha_Orden,\n              Cliente_Id: data.val().Cliente_Id,\n              Nombre_Cliente: data.val().Nombre_Cliente,\n              Estado_Orden: data.val().Estado_Orden,\n              Total_Orden: data.val().Total_Orden\n            };\n            data.val().Detalle.forEach(function (det) {\n              var itemDetalle = {\n                Id: det.Id,\n                Detalle_Id: det.Detalle_Id,\n                Codigo_Producto: det.Codigo_Producto,\n                Nombre_Producto: det.Nombre_Producto,\n                Monto: det.Monto,\n                Cantidad: det.Cantidad,\n                Precio: det.Precio\n              };\n              listDetalle.push(itemDetalle);\n            });\n            setOrdenDetalle(listDetalle);\n            setOrdenEncabezado(item);\n          });\n        } else {\n          setOrdenEncabezado(formEncabezadoOrden);\n        }\n\n        setTimeout(() => {\n          setLoading(false);\n        }, 200);\n      });\n    };\n\n    obtenerInformacionOrden();\n    obtenerProductos();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LoadSpinner, {\n      Mensaje: mensajePanelCargar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 24\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(ToastMessage, {\n      message: mensaje.message,\n      title: mensaje.title,\n      show: mensaje.show,\n      icon: mensaje.icon,\n      position: mensaje.position\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"breadcrumb\",\n          children: /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"breadcrumb-item text-primary\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/#\",\n                onClick: ev => {\n                  ev.preventDefault();\n                  history.push(`/order`);\n                },\n                style: {\n                  \"cursor\": \"pointer\"\n                },\n                children: \"Ordenes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"breadcrumb-item active\",\n              \"aria-current\": \"page\",\n              children: \"Registro o Actualizaci\\xF3n de Ordenes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-primary\",\n          children: \"Registro o Actualizaci\\xF3n de Ordenes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-1\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              className: \"btn-primary_override float-right\",\n              onClick: updateOrder,\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPlusCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 33\n              }, this), \" \", getId === \"0\" ? \"Guardar\" : \"Actualizar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"N\\xFAmero de la Orden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              autoComplete: \"off\",\n              name: \"Numero_Orden\",\n              value: ordenEncabezado.Numero_Orden || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"inputState\",\n              children: \"Estado Orden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"inputState\",\n              className: \"form-control\",\n              name: \"Estado_Orden\",\n              value: ordenEncabezado.Estado_Orden || \"\",\n              onChange: handleInputChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Registrada\",\n                children: \"Registrada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Aprobada\",\n                children: \"Aprobada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Entregada\",\n                children: \"Entregada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre del Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"hidden\",\n              className: \"form-control\",\n              name: \"Cliente_Id\",\n              value: ordenEncabezado.Cliente_Id || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              autoComplete: \"off\",\n              name: \"Nombre_Cliente\",\n              value: ordenEncabezado.Nombre_Cliente || \"\",\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-primary_override float-right\",\n              onClick: () => abrirCerrarModalMostrarCliente(),\n              style: {\n                \"marginTop\": \"28px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"form-group fieldset-custom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"legend\", {\n              className: \"col-form-label col-sm pt-1 text-primary\",\n              children: \"Detalles de Productos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-1 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn-primary_override float-right\",\n                id: \"btnSearch\",\n                onClick: () => abrirCerrarModalMostrar(),\n                style: {\n                  \"marginTop\": \"28px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faSearch\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                placement: \"right\",\n                isOpen: tooltipOpen,\n                target: \"btnSearch\",\n                toggle: toggle,\n                children: \"Buscar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"codigo_Producto\",\n                children: \"C\\xF3digo Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"codigo_Producto\",\n                type: \"text\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Codigo_Producto\",\n                value: detalle.Codigo_Producto || \"\",\n                onChange: handleInputDetalleChange,\n                disabled: \"disabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"nombre_Producto\",\n                children: \"Nombre Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"nombre_Producto\",\n                type: \"text\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Nombre_Producto\",\n                value: detalle.Nombre_Producto || \"\",\n                onChange: handleInputDetalleChange,\n                disabled: \"disabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"precio\",\n                children: \"Precio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"precio\",\n                type: \"number\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Precio\",\n                value: detalle.Precio || \"\",\n                onChange: handleInputDetalleChange,\n                disabled: \"disabled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"cantidad\",\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"cantidad\",\n                type: \"number\",\n                autoComplete: \"off\",\n                className: \"form-control\",\n                name: \"Cantidad\",\n                value: detalle.Cantidad || \"\",\n                onChange: handleInputDetalleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group float-right mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn btn-success\",\n              id: \"btnAdd\",\n              onClick: () => listSelection(),\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPlusCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              placement: \"right\",\n              isOpen: tooltipOpen,\n              target: \"btnAdd\",\n              toggle: toggle,\n              children: \"Agregar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(DataTable, {\n              columns: columns,\n              data: ordenDetalle,\n              pagination: true,\n              paginationComponentOptions: paginationOptions,\n              fixedHeader: true,\n              fixedHeaderScrollHeight: fixedHeaderScrollHeight,\n              noHeader: true,\n              paginationPerPage: paginationPerPage,\n              paginationRowsPerPageOptions: paginationRowsPerPageOptions,\n              noDataComponent: paginationOptions.noDataComponent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: modalMostrar,\n            className: \"modal-dialog modal-lg\",\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              children: \"Productos Registrados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-responsive detalle-orden\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table table-striped\",\n                  \"aria-labelledby\": \"tabelLabel\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"C\\xF3digo\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Nombre\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 490,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Descripci\\xF3n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 491,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Existencia\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Precio\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 493,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: dataProducto.map((data, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Codigo_Producto\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 499,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Nombre_Producto\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 500,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Descripcion_Producto\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 501,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Cantidad_Existencia\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 502,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Precio\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 503,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn-primary_override\",\n                          onClick: () => agregarProducto(data),\n                          children: [\" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                            icon: faPlusCircle\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 505,\n                            columnNumber: 137\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 505,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 504,\n                        columnNumber: 53\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => abrirCerrarModalMostrar(),\n                children: \"Cerrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: modalMostrarCliente,\n            className: \"modal-dialog modal-lg\",\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              children: \"Clientes Registrados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-responsive detalle-orden\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table table-striped\",\n                  \"aria-labelledby\": \"tabelLabel\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Nombre_Cliente\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 526,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Direcci\\xF3n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 527,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: dataProducto.map((data, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Nombre_Cliente\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 533,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: data.Direccion_Cliente\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 534,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn-primary_override\",\n                          onClick: () => agregarCliente(data),\n                          children: [\" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                            icon: faPlusCircle\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 536,\n                            columnNumber: 136\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 536,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 535,\n                        columnNumber: 53\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 49\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: () => abrirCerrarModalMostrar(),\n                children: \"Cerrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 373,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OrderEdit, \"v0MJuMSl5SdG2/4v7sRLOAYLjso=\", false, function () {\n  return [useHistory];\n});\n\n_c = OrderEdit;\nexport default OrderEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderEdit\");","map":{"version":3,"sources":["C:/Users/kcastillo/Documents/Prueba/materialesapp/src/pages/order/Edit.js"],"names":["React","useState","useEffect","useHistory","fireDefault","firebase","DataTable","Button","Tooltip","Modal","ModalHeader","ModalBody","ModalFooter","Container","FontAwesomeIcon","faTrash","faPlusCircle","faSearch","paginationOptions","paginationPerPage","paginationRowsPerPageOptions","fixedHeaderScrollHeight","LoadSpinner","ToastMessage","OrderEdit","prop","history","getId","match","params","id","loading","setLoading","mensajePanelCargar","setMensajePanelCargar","modalMostrar","setModalMostrar","modalMostrarCliente","setModalMostrarCliente","mensajeVacio","show","icon","title","message","position","mensaje","setMensaje","tooltipOpen","setTooltipOpen","toggle","closeMensaje","setTimeout","formEncabezadoOrden","Id","Numero_Orden","Fecha_Orden","Cliente_Id","Nombre_Cliente","Estado_Orden","Total_Orden","Detalle","formDetalleOrden","Detalle_Id","Codigo_Producto","Nombre_Producto","Cantidad","Precio","Monto","encabezadoProducto","Cantidad_Existencia","Descripcion_Producto","ordenEncabezado","setOrdenEncabezado","ordenDetalle","setOrdenDetalle","detalle","setDetalle","dataProducto","setDataProducto","handleInputChange","event","name","value","target","handleInputDetalleChange","listSelection","length","maxIndex","Math","max","map","item","filter","index","includes","columns","selector","sortable","width","left","right","button","cell","row","eliminarDetalleOrden","abrirCerrarModalMostrar","abrirCerrarModalMostrarCliente","window","confirm","filtro","updateOrder","e","preventDefault","sumaOrden","i","dateorden","Date","padLeft","getMonth","getDay","getFullYear","child","set","error","push","n","slice","agregarProducto","agregarCliente","obtenerProductos","on","producto","val","list","forEach","data","key","obtenerInformacionOrden","orderByKey","equalTo","orden","listDetalle","det","itemDetalle","ev","noDataComponent","Direccion_Cliente"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {fireDefault as firebase} from \"../../firebase\";\r\nimport DataTable from 'react-data-table-component';\r\nimport { Button, Tooltip, Modal, ModalHeader, ModalBody, ModalFooter, Container } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash, faPlusCircle, faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { paginationOptions, paginationPerPage, paginationRowsPerPageOptions, fixedHeaderScrollHeight }\r\n    from '../../components/DataTableConfig';\r\nimport LoadSpinner from '../../components/LoadSpinner';\r\nimport ToastMessage from '../../components/ToastMessage';\r\n\r\n\r\n\r\nconst OrderEdit = (prop) => {\r\n\r\n    const history = useHistory();\r\n    const getId = prop.match.params.id;\r\n\r\n    /* HOOKS */\r\n    const [loading, setLoading] = useState(false);\r\n    const [mensajePanelCargar, setMensajePanelCargar] = useState(\"\");\r\n    const [modalMostrar, setModalMostrar] = useState(false);\r\n    const [modalMostrarCliente, setModalMostrarCliente] = useState(false);\r\n    const mensajeVacio = { show: false, icon: \"white\", title: \"\", message: \"\", position: \"10%\" }\r\n    const [mensaje, setMensaje] = useState(mensajeVacio);\r\n    const [tooltipOpen, setTooltipOpen] = useState(false);\r\n    const toggle = () => setTooltipOpen(!tooltipOpen);\r\n    const closeMensaje = () => { setTimeout(() => { setMensaje(mensajeVacio) }, 3000); };\r\n\r\n    const formEncabezadoOrden = {\r\n        Id: 0,\r\n        Numero_Orden: '',\r\n        Fecha_Orden: '',\r\n        Cliente_Id:0,\r\n        Nombre_Cliente: '',\r\n        Estado_Orden: 'registrada',\r\n        Total_Orden: 0,\r\n        Detalle: {}\r\n    };\r\n\r\n    const formDetalleOrden = {\r\n        Id: 0,\r\n        Detalle_Id: 0,\r\n        Codigo_Producto: '',\r\n        Nombre_Producto: 0,\r\n        Cantidad: '',\r\n        Precio: 0,\r\n        Monto: 0\r\n    };\r\n\r\n    const encabezadoProducto = {\r\n        Id: 0,\r\n        Codigo_Producto: '',\r\n        Cantidad_Existencia: 0,\r\n        Nombre_Producto: '',\r\n        Descripcion_Producto: '',\r\n        Precio: 0\r\n    };\r\n\r\n    // Hooks Principales  Encabezado y Detalle\r\n    const [ordenEncabezado, setOrdenEncabezado] = useState([formEncabezadoOrden]);\r\n\r\n    const [ordenDetalle, setOrdenDetalle] = useState([]);\r\n\r\n\r\n    // Hook para controlar los eventos de registro de detalle en el grid\r\n    const [detalle, setDetalle] = useState([formDetalleOrden]);\r\n\r\n    const [dataProducto, setDataProducto] = useState([encabezadoProducto]);\r\n    /* FIN HOOKS */\r\n\r\n\r\n\r\n    /* Eventos Handle o onChanged de controles */\r\n\r\n    const handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        setOrdenEncabezado({ ...ordenEncabezado, [name]: value });\r\n    };\r\n\r\n    const handleInputDetalleChange = event => {\r\n        const { name, value } = event.target;\r\n        setDetalle({ ...detalle, [name]: value });\r\n    };\r\n\r\n    const listSelection = () => {\r\n\r\n        if (!detalle.Nombre_Producto || !detalle.Codigo_Producto) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina el nombre y código del producto que desea agregar\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        if (!detalle.Cantidad) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina la cantidad del producto\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        if (!detalle.Detalle_Id) {\r\n            if (ordenDetalle.length > 0) {\r\n                var maxIndex = Math.max(...ordenDetalle.map(item => item.Detalle_Id));\r\n                detalle.Detalle_Id = maxIndex + 1;\r\n            }\r\n            else {\r\n                detalle.Detalle_Id = 1;\r\n            }\r\n\r\n        }\r\n        detalle.Monto = detalle.Precio * detalle.Cantidad;\r\n\r\n        if (ordenDetalle.filter(index => index.Id === detalle.Id).length > 0) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"El producto ya se encuentra en el detalle\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        setOrdenDetalle(\r\n            ordenDetalle.includes(detalle)\r\n                ? ordenDetalle.filter(index => index !== detalle)\r\n                : [...ordenDetalle, detalle]\r\n        );\r\n        setDetalle([formDetalleOrden]);\r\n    }\r\n\r\n    /* Fin de Eventos Handle o onChanged de controles */\r\n\r\n\r\n\r\n    /* Acciones Detalles(Grid, Botones, Eventos) */\r\n\r\n    const columns = [\r\n        {\r\n            name: 'Detalle Id',\r\n            selector: 'Detalle_Id',\r\n            sortable: true,\r\n            width: '150px'\r\n        },\r\n        {\r\n            name: 'Codigo Producto',\r\n            selector: 'Codigo_Producto',\r\n            sortable: true,\r\n            left: true,\r\n            width: '150px'\r\n        },\r\n        {\r\n            name: 'Nombre Producto',\r\n            selector: 'Nombre_Producto',\r\n            sortable: true,\r\n            left: true,\r\n            width: '300px'\r\n        },\r\n        {\r\n            name: 'Cantidad',\r\n            selector: 'Cantidad',\r\n            sortable: true,\r\n            right: true,\r\n            width: '100px'\r\n        },\r\n        {\r\n            name: 'Precio Unitario',\r\n            selector: 'Precio',\r\n            sortable: true,\r\n            right: true,\r\n            width: '100px'\r\n        },\r\n        {\r\n            name: 'Monto Total',\r\n            selector: 'Monto',\r\n            sortable: true,\r\n            right: true,\r\n            width: '150px'\r\n        },\r\n        {\r\n            name: 'Eliminar',\r\n            button: true,\r\n            cell: (row) => <Button className=\"btn btn-danger\" onClick={() => eliminarDetalleOrden(row, \"Eliminar\")}><FontAwesomeIcon icon={faTrash} /></Button>\r\n        }\r\n    ];\r\n\r\n\r\n    const abrirCerrarModalMostrar = () => { setModalMostrar(!modalMostrar); };\r\n    const abrirCerrarModalMostrarCliente = () => { setModalMostrarCliente(!modalMostrarCliente); };\r\n\r\n    const eliminarDetalleOrden = (row) => {\r\n        if (window.confirm(`Estás seguro que deseas eliminar el detalle ${row && row.Detalle_Id}?`)) {\r\n            setOrdenDetalle(ordenDetalle.filter(filtro => filtro.Detalle_Id !== row.Detalle_Id));\r\n        }\r\n\r\n    }\r\n    /* Fin Acciones Detalles(Grid, Botones, Eventos) */\r\n\r\n\r\n\r\n    /* Acciones Encabezado(Botones, Eventos) */\r\n\r\n    const updateOrder = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!ordenEncabezado.Numero_Orden) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina el número de la orden\", position: \"10%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n        if (!ordenEncabezado.Nombre_Cliente) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina el nombre del cliente\", position: \"10%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        if (ordenDetalle.length === 0) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"Defina al menos un producto detalle\", position: \"10%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        ordenEncabezado.Detalle = ordenDetalle;\r\n        var sumaOrden = 0;\r\n        for (var i = 0; i < ordenDetalle.length; i++) {\r\n            sumaOrden += ordenDetalle[i].Monto;\r\n        }\r\n        ordenEncabezado.Total_Orden = sumaOrden;\r\n        var dateorden = new Date();\r\n        ordenEncabezado.Fecha_Orden = padLeft(dateorden.getMonth()) \r\n        + \"/\" + padLeft(dateorden.getDay()) \r\n        + \"/\" + padLeft(dateorden.getFullYear());\r\n\r\n        setMensajePanelCargar(\"Procesando Registro, Por Favor Espere\");\r\n        setLoading(true);\r\n\r\n        if (getId !== \"0\") {\r\n            firebase.child(`orden/${ordenEncabezado.Id}`).set(\r\n                ordenEncabezado,\r\n                error => {\r\n                    if (error) {\r\n                        setMensaje({ show: true, icon: \"danger\", title: \"Error\", message: \"Ocurrió un problema procesando la actualización\", position: \"10%\" });\r\n                        closeMensaje();\r\n                    }\r\n                    else {\r\n                        setLoading(false);\r\n                        setMensaje({ show: true, icon: \"success\", title: \"Información\", message: \"Orden Actualizada Correctamente\", position: \"10%\" });\r\n                        closeMensaje();\r\n                        setTimeout(() => history.push('/order'), 1100);\r\n                    }\r\n                });\r\n        }\r\n        else {\r\n            firebase.child(\"orden\").push(ordenEncabezado,\r\n                error => {\r\n                    if (error) {\r\n                        setMensaje({ show: true, icon: \"danger\", title: \"Error\", message: \"Ocurrió un problema procesando el registro\", position: \"10%\" });\r\n                        closeMensaje();\r\n                    }\r\n                    else {\r\n                        setLoading(false);\r\n                        setMensaje({ show: true, icon: \"success\", title: \"Información\", message: \"Orden Registrada Correctamente\", position: \"10%\" });\r\n                        closeMensaje();\r\n                        setTimeout(() => history.push('/order'), 1100);\r\n                    }\r\n                });\r\n        }\r\n\r\n    };\r\n\r\n    const padLeft = (n) => {\r\n        return (\"00\" + n).slice(-2);\r\n    }\r\n\r\n    const agregarProducto = (row) => {\r\n\r\n        if (row.Cantidad_Existencia <= 0) {\r\n            setMensaje({ show: true, icon: \"warning\", title: \"Advertencia\", message: \"El producto no posee existencia\", position: \"50%\" });\r\n            closeMensaje();\r\n            return;\r\n        }\r\n\r\n        setDetalle({\r\n            ...detalle,\r\n            'Id': row.Id,\r\n            'Codigo_Producto': row.Codigo_Producto,\r\n            'Nombre_Producto': row.Nombre_Producto,\r\n            'Precio': row.Precio\r\n        });\r\n        abrirCerrarModalMostrar();\r\n    }\r\n\r\n    const agregarCliente = (row) => {\r\n\r\n        setOrdenEncabezado({\r\n            ...ordenEncabezado,\r\n            'Cliente_Id': row.Id,\r\n            'Nombre_Cliente': row.Nombre_Cliente,\r\n        });\r\n        abrirCerrarModalMostrarCliente();\r\n    }\r\n\r\n    const obtenerProductos = () => {\r\n        setLoading(true);\r\n        firebase.child(\"producto\").on(\"value\", (producto) => {\r\n            if (producto.val() !== null) {\r\n                var list = [];\r\n\r\n                producto.forEach(function (data) {\r\n                    var item = {\r\n                        Id: data.key,\r\n                        Codigo_Producto: data.val().Codigo_Producto,\r\n                        Cantidad_Existencia: data.val().Cantidad_Existencia,\r\n                        Nombre_Producto: data.val().Nombre_Producto,\r\n                        Descripcion_Producto: data.val().Descripcion_Producto,\r\n                        Precio: data.val().Precio\r\n                    }\r\n                    list.push(item);\r\n                });\r\n\r\n                setDataProducto(list);\r\n            } else {\r\n                setDataProducto(encabezadoProducto);\r\n            }\r\n            setTimeout(() => { setLoading(false) }, 200);\r\n\r\n        });\r\n    };\r\n    /* FIN Acciones Encabezado(Botones, Eventos) */\r\n\r\n    useEffect(() => {\r\n\r\n        const obtenerInformacionOrden = () => {\r\n            setLoading(true);\r\n            firebase.child(\"orden\").orderByKey().equalTo(getId).on(\"value\", (orden) => {\r\n                if (orden.val() !== null) {\r\n                    var listDetalle = [];\r\n                    orden.forEach(function (data) {\r\n                        var item = {\r\n                            Id: data.key,\r\n                            Numero_Orden: data.val().Numero_Orden,\r\n                            Fecha_Orden: data.val().Fecha_Orden,\r\n                            Cliente_Id: data.val().Cliente_Id,\r\n                            Nombre_Cliente: data.val().Nombre_Cliente,\r\n                            Estado_Orden: data.val().Estado_Orden,\r\n                            Total_Orden: data.val().Total_Orden,\r\n                        }\r\n\r\n                        data.val().Detalle.forEach(function (det) {\r\n                            var itemDetalle = {\r\n                                Id: det.Id,\r\n                                Detalle_Id: det.Detalle_Id,\r\n                                Codigo_Producto: det.Codigo_Producto,\r\n                                Nombre_Producto: det.Nombre_Producto,\r\n                                Monto: det.Monto,\r\n                                Cantidad: det.Cantidad,\r\n                                Precio: det.Precio\r\n                            }\r\n                            listDetalle.push(itemDetalle);\r\n                        });\r\n                        setOrdenDetalle(listDetalle);\r\n                        setOrdenEncabezado(item);\r\n                    });\r\n                } else {\r\n                    setOrdenEncabezado(formEncabezadoOrden);\r\n                }\r\n                setTimeout(() => { setLoading(false) }, 200);\r\n            });\r\n        };\r\n\r\n        obtenerInformacionOrden();\r\n        obtenerProductos();\r\n    }, []);// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <LoadSpinner Mensaje={mensajePanelCargar} /> : \"\"}\r\n            <ToastMessage message={mensaje.message} title={mensaje.title} show={mensaje.show} icon={mensaje.icon} position={mensaje.position} />\r\n            <Container>\r\n                <div className=\"\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb\">\r\n                            <li className=\"breadcrumb-item text-primary\"><a href=\"/#\" onClick={ev => { ev.preventDefault(); history.push(`/order`) }} style={{ \"cursor\": \"pointer\" }}>Ordenes</a></li>\r\n                            <li className=\"breadcrumb-item active\" aria-current=\"page\">Registro o Actualización de Ordenes</li>\r\n                        </ol>\r\n                    </nav>\r\n                    <h4 className=\"text-primary\">Registro o Actualización de Ordenes</h4>\r\n                </div>\r\n                <form>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm mb-1\">\r\n                            <Button variant=\"primary\" type=\"submit\" className=\"btn-primary_override float-right\" onClick={updateOrder}>\r\n                                <FontAwesomeIcon icon={faPlusCircle} /> {getId === \"0\" ? \"Guardar\" : \"Actualizar\"}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm mb-1\">\r\n                            <label>Número de la Orden</label>\r\n                            <input type=\"text\" className=\"form-control\" autoComplete=\"off\" name=\"Numero_Orden\" value={ordenEncabezado.Numero_Orden || \"\"} onChange={handleInputChange} />\r\n                        </div>\r\n                        <div className=\"col-sm mb-1\">\r\n                            <label htmlFor=\"inputState\">Estado Orden</label>\r\n                            <select id=\"inputState\" className=\"form-control\" name=\"Estado_Orden\" value={ordenEncabezado.Estado_Orden || \"\"} onChange={handleInputChange}>\r\n                                <option value=\"Registrada\">Registrada</option>\r\n                                <option value=\"Aprobada\">Aprobada</option>\r\n                                <option value=\"Entregada\">Entregada</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm mb-3\">\r\n                            <label>Nombre del Cliente</label>\r\n                            <input type=\"hidden\" className=\"form-control\" name=\"Cliente_Id\" value={ordenEncabezado.Cliente_Id || \"\"} onChange={handleInputChange} />\r\n                            <input type=\"text\" className=\"form-control\" autoComplete=\"off\" name=\"Nombre_Cliente\" value={ordenEncabezado.Nombre_Cliente || \"\"} onChange={handleInputChange} />\r\n                            <Button className=\"btn-primary_override float-right\" onClick={() => abrirCerrarModalMostrarCliente()} style={{ \"marginTop\": \"28px\" }}>\r\n                                    <FontAwesomeIcon icon={faSearch} />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <fieldset className=\"form-group fieldset-custom\">\r\n                        <div className=\"row\">\r\n                            <legend className=\"col-form-label col-sm pt-1 text-primary\">Detalles de Productos</legend>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-sm-1 mb-1\">\r\n                                <Button className=\"btn-primary_override float-right\" id={\"btnSearch\"} onClick={() => abrirCerrarModalMostrar()} style={{ \"marginTop\": \"28px\" }}>\r\n                                    <FontAwesomeIcon icon={faSearch} />\r\n                                </Button>\r\n                                <Tooltip\r\n                                    placement={\"right\"}\r\n                                    isOpen={tooltipOpen}\r\n                                    target={\"btnSearch\"}\r\n                                    toggle={toggle}>\r\n                                    Buscar\r\n                            </Tooltip>\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"codigo_Producto\">Código Producto</label>\r\n                                <input id=\"codigo_Producto\" type=\"text\" autoComplete=\"off\" className=\"form-control\" name=\"Codigo_Producto\" value={detalle.Codigo_Producto || \"\"} onChange={handleInputDetalleChange} disabled='disabled' />\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"nombre_Producto\">Nombre Producto</label>\r\n                                <input id=\"nombre_Producto\" type=\"text\" autoComplete=\"off\" className=\"form-control\" name=\"Nombre_Producto\" value={detalle.Nombre_Producto || \"\"} onChange={handleInputDetalleChange} disabled='disabled' />\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"precio\">Precio</label>\r\n                                <input id=\"precio\" type=\"number\" autoComplete=\"off\" className=\"form-control\" name=\"Precio\" value={detalle.Precio || \"\"} onChange={handleInputDetalleChange} disabled='disabled' />\r\n                            </div>\r\n                            <div className=\"col-sm mb-1\">\r\n                                <label htmlFor=\"cantidad\">Cantidad</label>\r\n                                <input id=\"cantidad\" type=\"number\" autoComplete=\"off\" className=\"form-control\" name=\"Cantidad\" value={detalle.Cantidad || \"\"} onChange={handleInputDetalleChange} />\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"form-group float-right mt-2\">\r\n                            <Button className=\"btn btn-success\" id={\"btnAdd\"} onClick={() => listSelection()}>\r\n                                <FontAwesomeIcon icon={faPlusCircle} />\r\n                            </Button>\r\n                            <Tooltip\r\n                                placement={\"right\"}\r\n                                isOpen={tooltipOpen}\r\n                                target={\"btnAdd\"}\r\n                                toggle={toggle}>\r\n                                Agregar\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"table-responsive\">\r\n                            <DataTable\r\n                                columns={columns}\r\n                                data={ordenDetalle}\r\n                                pagination\r\n                                paginationComponentOptions={paginationOptions}\r\n                                fixedHeader\r\n                                fixedHeaderScrollHeight={fixedHeaderScrollHeight}\r\n                                noHeader={true}\r\n                                paginationPerPage={paginationPerPage}\r\n                                paginationRowsPerPageOptions={paginationRowsPerPageOptions}\r\n                                noDataComponent={paginationOptions.noDataComponent}\r\n                            />\r\n                        </div>\r\n                        <Modal isOpen={modalMostrar} className=\"modal-dialog modal-lg\" >\r\n                            <ModalHeader>\r\n                                Productos Registrados\r\n                            </ModalHeader>\r\n                            <ModalBody>\r\n                                <div className=\"table-responsive detalle-orden\">\r\n                                    <table className='table table-striped' aria-labelledby=\"tabelLabel\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Código</th>\r\n                                                <th>Nombre</th>\r\n                                                <th>Descripción</th>\r\n                                                <th>Existencia</th>\r\n                                                <th>Precio</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {dataProducto.map((data, i) =>\r\n                                                <tr key={i}>\r\n                                                    <td>{data.Codigo_Producto}</td>\r\n                                                    <td>{data.Nombre_Producto}</td>\r\n                                                    <td>{data.Descripcion_Producto}</td>\r\n                                                    <td>{data.Cantidad_Existencia}</td>\r\n                                                    <td>{data.Precio}</td>\r\n                                                    <td>\r\n                                                        <button className=\"btn-primary_override\" onClick={() => agregarProducto(data)}> <FontAwesomeIcon icon={faPlusCircle} /></button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <button className=\"btn btn-secondary\" onClick={() => abrirCerrarModalMostrar()}>Cerrar</button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                        <Modal isOpen={modalMostrarCliente} className=\"modal-dialog modal-lg\" >\r\n                            <ModalHeader>\r\n                                Clientes Registrados\r\n                            </ModalHeader>\r\n                            <ModalBody>\r\n                                <div className=\"table-responsive detalle-orden\">\r\n                                    <table className='table table-striped' aria-labelledby=\"tabelLabel\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Nombre_Cliente</th>\r\n                                                <th>Dirección</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {dataProducto.map((data, i) =>\r\n                                                <tr key={i}>\r\n                                                    <td>{data.Nombre_Cliente}</td>\r\n                                                    <td>{data.Direccion_Cliente}</td>\r\n                                                    <td>\r\n                                                        <button className=\"btn-primary_override\" onClick={() => agregarCliente(data)}> <FontAwesomeIcon icon={faPlusCircle} /></button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </ModalBody>\r\n                            <ModalFooter>\r\n                                <button className=\"btn btn-secondary\" onClick={() => abrirCerrarModalMostrar()}>Cerrar</button>\r\n                            </ModalFooter>\r\n                        </Modal>\r\n                    </fieldset>\r\n                </form>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderEdit;"]},"metadata":{},"sourceType":"module"}